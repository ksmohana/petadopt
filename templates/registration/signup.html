{% extends "base.html" %}

{% block title %}Sign Up - {{ block.super }}{% endblock title %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-6">
        <div class="card shadow-sm">
            <div class="card-body">
                <h2 class="card-title text-center">Create Your Account</h2>
                <p class="text-center text-muted">Please fill out the form to register.</p>
                
                <form method="post">
                    {% csrf_token %}
                    
                    {% for field in form %}
                        <div class="mb-3">
                            
                            <label for="{{ field.id_for_label }}" class="form-label">
                                {{ field.label }}
                                {% if field.field.required %}
                                    <span class="text-danger">*</span>
                                {% endif %}
                            </label>
                            
                            <input type="{{ field.field.widget.input_type }}" 
                                   name="{{ field.name }}" 
                                   class="form-control" 
                                   id="{{ field.id_for_label }}">
                            
                            {% if field.errors %}
                                <div class="alert alert-danger mt-1 p-2">
                                    {{ field.errors|striptags }}
                                </div>
                            {% endif %}

                            {% if field.help_text %}
                                <small class="form-text text-muted">{{ field.help_text }}</small>
                            {% endif %}

                            </div>
                    {% endfor %}
                    
                    {% if form.non_field_errors %}
                        <div class="alert alert-danger p-2">
                            {{ form.non_field_errors|striptags }}
                        </div>
                    {% endif %}
                    
                    <div class="d-grid">
                        <button type="submit" class="btn btn-primary btn-lg">Sign Up</button>
                    </div>
                </form>
                
                <hr>
                <p class="text-center">
                    Already have an account? <a href="{% url 'login' %}">Log in here!</a>
                </p>
            </div>
        </div>
    </div>
</div>
{% endblock content %}

{% block scripts %}
<script>
    // We are keeping this simple, helpful script!
    document.addEventListener("DOMContentLoaded", function() {
        
        // --- HIDE ERRORS ON INPUT ---
        const inputs = document.querySelectorAll('.form-control');
        inputs.forEach(function(input) {
            input.addEventListener('input', function(event) {
                const parentDiv = event.target.closest('.mb-3');
                if (parentDiv) {
                    const errorAlert = parentDiv.querySelector('.alert-danger');
                    if (errorAlert) {
                        errorAlert.style.display = 'none';
                    }
                }
            });
        });

        // All the password checker JavaScript is GONE
    });
</script>
{% endblock scripts %}